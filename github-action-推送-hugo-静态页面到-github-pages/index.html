<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Your site description"><link rel="shortcut icon" href=https://678210.xyz/favicon.ico><link rel=stylesheet href=/css/style.min.css><link rel=canonical href=https://678210.xyz/github-action-%E6%8E%A8%E9%80%81-hugo-%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E5%88%B0-github-pages/><title>GitHub Action 推送 hugo 静态页面到 Github Pages</title></head><body><header id=banner><h2><a href=https://678210.xyz/>Leo Cheebin</a></h2><nav><ul><li><a href=/ title=Home>Home</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>GitHub Action 推送 hugo 静态页面到 Github Pages</h1><div><time>February 7, 2026</time></div></header><p>我使用两个Github仓库分别管理Hugo博客的<code>源文件</code>和<code>生成的静态文件</code></p><p>我的Hugo源文件（private）仓库：https://github.com/xxxxx/hugo</p><p>我的GitHub Pages（生成的静态文件，public）：https://github.com/xxxxx/xxxxx.github.io</p><p>由于之前每次生成新页面后都需要分别提交内容，很繁琐，故使用Github Action实现自动部署</p><h3 id=生成-gh_pat>生成 GH_PAT</h3><p>在不同仓库间同步推送，需要申请Github PAT（Personal Access Token）</p><blockquote><p>链接：https://github.com/settings/tokens
→ Tokens (classic) → Generate new token (classic)</p></blockquote><p>选择权限：</p><ul><li>repo（如果是私有仓库）<ul><li>public_repo（如果是公有仓库）</li></ul></li></ul><p><img src=http://oss.678210.xyz/pic/20260208154850648.png alt></p><blockquote><p>因为我的Hugo源文件是private仓库，故将repo权限全都勾选了，如果你的Hugo源文件是public仓库，则只需要勾选public_repo即可</p></blockquote><p>在 Hugo源文件 仓库设置 → Secrets → Actions → 新建 secret，例如：<code>GH_PAT</code>。</p><p><img src=http://oss.678210.xyz/pic/20260208154918781.png alt></p><p><img src=http://oss.678210.xyz/pic/20260208154933605.png alt></p><h3 id=编写-workflows>编写 workflows</h3><p>文件存放位置 <code>.github/workflows/deploy-hugo.yml</code></p><pre tabindex=0><code class=language-aidl data-lang=aidl>name: Build and Deploy Hugo to GitHub Pages

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source
        uses: actions/checkout@v4
        with:
          submodules: recursive

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v3
        with:
          hugo-version: &#39;0.153.4&#39;
          extended: true

      - name: Build Hugo site
        run: hugo --minify

      - name: List generated files (debug)
        run: ls -R ./public

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          personal_token: ${{ secrets.GH_PAT }}         # 此处务必配置成刚刚生成的 secret 名称（即GH_PAT）
          publish_dir: ./public
          publish_branch: gh-pages
          external_repository: xxxxxx/xxxxxxxxx.github.io
          user_name: &#39;xxxxxx&#39;                           # 用户名
          user_email: &#39;xxxxxxxxx@gmail.com&#39;             # 邮箱
          commit_message: &#39;Deploy Hugo site via GitHub Actions&#39;
</code></pre><blockquote><p>要注意的地方：</p><p><code>hugo-version</code>: 可以配置成你的具体Hugo版本，如实在不清楚，可配置成 <code>latest</code></p><p><code>personal_token</code>: 此处务必配置成刚刚生成的 <code>secret</code> 名称（如我例子中的<code>GH_PAT</code>），注意，不是PAT的值，PAT权限极高，永远不可以直接写在配置文件中</p><p><code>external_repository</code>: 要推送的静态文件仓库地址</p><p><code>publish_dir</code>: 你的Hugo配置文件 <code>config.toml</code> 中的 <code>publishdir</code> 值</p><p><code>publish_branch</code>: 要推送到静态文件仓库地址的分支，且务必提前创建好，否则推送后不方便合并到主分支；不要直接推送到main/master分支</p><p><code>user_name</code>: 用户名</p><p><code>user_email:</code>: 邮箱</p></blockquote><p>编写完后，将此配置文件推送到仓库中</p><h3 id=提交代码>提交代码</h3><p><img src=http://oss.678210.xyz/pic/20260208155008308.png alt></p><p>可看到<code>workflows</code>执行成功</p><p>且GitHub Pages 仓库推送成功</p><p><img src=http://oss.678210.xyz/pic/20260208155018377.png alt></p><blockquote><p>后续还可以配置Vercel自动部署静态网站，等等。</p></blockquote></article></main><footer id=footer>Copyright © Leo Cheebin
<a href=https://beian.miit.gov.cn/ style=color:#b3b3b3 target=_blank>赣ICP备2024035590号-3</a></footer></body></html>