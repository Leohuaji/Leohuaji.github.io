<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your site description">
    
    <link rel="shortcut icon" href="https://678210.xyz/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <link rel="canonical" href="https://678210.xyz/install_tshock/" />
    <title>CentOS安装 TShock 和 .NET 6.0</title>
</head>
<body><header id="banner">
    <h2><a href="https://678210.xyz/">Leo Cheebin</a></h2>
    <nav>
        <ul>
            <li>
                <a href="/" title="Home">Home</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>CentOS安装 TShock 和 .NET 6.0</h1>
        <div>
                <time>June 26, 2024</time>
            </div>
    </header><blockquote>
<p>TShock是Terraria的开服工具，运行需要.NET 6.0.16</p>
</blockquote>
<p>安装步骤：</p>
<h3 id="一安装net">一、安装.NET</h3>
<p>1、下载</p>
<blockquote>
<p>首先根据服务器架构选择.net版本</p>
<p>命令<code>lscpu</code>查看当前服务器架构：<br>
<img src="https://yaowan.icu/img/2024/06/image.png" alt=""></p>
<p>进入微软的下载页面，选择需要的版本（.net6.0.16）<br>
<a href="https://dotnet.microsoft.com/zh-cn/download/dotnet/6.0">https://dotnet.microsoft.com/zh-cn/download/dotnet/6.0</a><br>
<img src="https://yaowan.icu/img/2024/06/image%202.png" alt=""><br>
点击后，浏览器会进行下载，复制下载链接，接下来有用（浏览器下载的不用管它，删掉）</p>
<p><a href="https://download.visualstudio.microsoft.com/download/pr/877a2d48-74ed-484b-85a1-605078f5e718/752ce1e38b76ffb5ebfc2ee1772307bf/aspnetcore-runtime-6.0.16-linux-x64.tar.gz" title="https://download.visualstudio.microsoft.com/download/pr/877a2d48-74ed-484b-85a1-605078f5e718/752ce1e38b76ffb5ebfc2ee1772307bf/aspnetcore-runtime-6.0.16-linux-x64.tar.gz">https://download.visualstudio.microsoft.com/download/pr/877a2d48-74ed-484b-85a1-605078f5e718/752ce1e38b76ffb5ebfc2ee1772307bf/aspnetcore-runtime-6.0.16-linux-x64.tar.gz</a></p>
</blockquote>
<p>在<code>/usr/local/</code>下<code>mkdir</code>创建dotnet目录，进入目录后用<code>wget</code>命令进行下载：</p>
<p><a href="https://download.visualstudio.microsoft.com/download/pr/877a2d48-74ed-484b-85a1-605078f5e718/752ce1e38b76ffb5ebfc2ee1772307bf/aspnetcore-runtime-6.0.16-linux-x64.tar.gz"></a></p>
<pre tabindex="0"><code>wget https://download.visualstudio.microsoft.com/download/pr/877a2d48-74ed-484b-85a1-605078f5e718/752ce1e38b76ffb5ebfc2ee1772307bf/aspnetcore-runtime-6.0.16-linux-x64.tar.gz
</code></pre><p>下载后用<code>ll</code>命令能看到文件<code>aspnetcore-runtime-6.0.16-linux-x64.tar.gz</code></p>
<p>2、解压</p>
<pre tabindex="0"><code>tar -xvf aspnetcore-runtime-6.0.16-linux-x64.tar.gz
</code></pre><p>解压完后文件目录如下：</p>
<p><img src="https://yaowan.icu/img/2024/06/image%203.png" alt=""></p>
<p>3、配置环境变量</p>
<p>用<code>vim</code>命令在<code>/etc/profile.d/</code>目录下创建一个<code>dotnet.sh</code>的环境变量配置文件</p>
<pre tabindex="0"><code>vim /etc/profile.d/dotnet.sh
</code></pre><p>按<code>i</code>进入编辑模式，将下列配置粘贴（CTRL+SHIFT+V）进去</p>
<pre tabindex="0"><code>export DOTNET_ROOT=/usr/local/dotnet
export PATH=$DOTNET_ROOT:$PATH
</code></pre><p>然后Esc键退出编辑模式，再<code>:wq</code>保存，即会返回到控制台</p>
<p>应用刚才的配置</p>
<pre tabindex="0"><code>source /etc/profile
</code></pre><p>此时再输入<code>dotnet --info</code>，能看到.NET信息说明配置成功了</p>
<p><img src="https://yaowan.icu/img/2024/06/image%204.png" alt=""></p>
<h3 id="二安装tshock">二、安装Tshock</h3>
<p>Tshock是Terraria的开服工具</p>
<p>1、创建目录</p>
<pre tabindex="0"><code>mkdir /app/tshock
</code></pre><p>2、Google搜索，在GitHub上找到tshock的最新版</p>
<p><img src="https://yaowan.icu/img/2024/06/image%205.png" alt=""></p>
<p>3、下载</p>
<p><a href="https://github.com/Pryaxis/TShock/releases/download/v5.2.0/TShock-5.2-for-Terraria-1.4.4.9-linux-x64-Release.zip"></a></p>
<pre tabindex="0"><code>wget https://github.com/Pryaxis/TShock/releases/download/v5.2.0/TShock-5.2-for-Terraria-1.4.4.9-linux-x64-Release.zip
</code></pre><p>解压zip</p>
<pre tabindex="0"><code>upzip TShock-5.2-for-Terraria-1.4.4.9-linux-x64-Release.zip
</code></pre><p>解压出来一个tar文件，再用tar命令解包</p>
<pre tabindex="0"><code>tar -xvf TShock-Beta-linux-x64-Release.tar
</code></pre><p>解压后目录结构如下：</p>
<p><img src="https://yaowan.icu/img/2024/06/image%206.png" alt=""></p>
<p>4、运行</p>
<pre tabindex="0"><code>./TShock.Server
</code></pre><p><img src="https://yaowan.icu/img/2024/06/image%207.png" alt=""></p>
<p>接下来就是创建泰拉瑞亚服务的内容了，很简单。</p>
<p>创建完后，就能在游戏里用<code>&lt;你的ip&gt;:&lt;游戏端口&gt;</code>连接服务器了。</p>
<blockquote>
<p>每次分享服务器给朋友，都把ip分享出去，既不优雅又不安全，如果能把ip换成域名就好了，比如：tl.yaowan.icu:7777</p>
<p>方法：<a href="https://yaowan.icu/nginx_stream_tshock/">用域名代替ip</a></p>
</blockquote>
</article>

        </main><footer id="footer">
    Copyright © Leo Cheebin

    <a href="https://beian.miit.gov.cn/" style="color: #b3b3b3" target="_blank">赣ICP备2024035590号-3</a>
</footer>
</body>
</html>
